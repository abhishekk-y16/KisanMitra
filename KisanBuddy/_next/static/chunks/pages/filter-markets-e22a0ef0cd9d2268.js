(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{3872:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/filter-markets",function(){return r(8019)}])},530:function(e,t,r){"use strict";var a=r(5893),n=r(7294),s=r(8370);let l=(0,n.forwardRef)((e,t)=>{let{variant:r="primary",size:n="md",loading:l=!1,icon:o,iconPosition:d="left",fullWidth:c=!1,children:m,className:u="",disabled:h,...x}=e;return(0,a.jsx)("button",{ref:t,className:(0,s.Z)("\n      inline-flex items-center justify-center gap-2 \n      font-semibold rounded-xl\n      transition-all duration-200 ease-out\n      focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2\n      disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none\n      active:scale-[0.98]\n    ",{primary:"\n        text-white\n        bg-gradient-to-br from-primary-600 to-primary-700\n        hover:from-primary-500 hover:to-primary-600 hover:shadow-lg hover:-translate-y-0.5\n        focus-visible:ring-primary-500\n        shadow-md\n      ",secondary:"\n        text-neutral-800 bg-white border border-neutral-200\n        hover:bg-neutral-50 hover:border-neutral-300 hover:shadow-md hover:-translate-y-0.5\n        focus-visible:ring-neutral-400\n        shadow-sm\n      ",ghost:"\n        text-neutral-600 bg-transparent\n        hover:bg-neutral-100 hover:text-neutral-800\n        focus-visible:ring-neutral-400\n      ",danger:"\n        text-white\n        bg-gradient-to-br from-red-500 to-red-600\n        hover:from-red-400 hover:to-red-500 hover:shadow-lg hover:-translate-y-0.5\n        focus-visible:ring-red-500\n        shadow-md\n      ",success:"\n        text-white\n        bg-gradient-to-br from-emerald-500 to-emerald-600\n        hover:from-emerald-400 hover:to-emerald-500 hover:shadow-lg hover:-translate-y-0.5\n        focus-visible:ring-emerald-500\n        shadow-md\n      "}[r],{sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"}[n],c?"w-full":"",u),disabled:h||l,...x,children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i,{size:n}),(0,a.jsx)("span",{children:"Please wait..."})]}):(0,a.jsxs)(a.Fragment,{children:[o&&"left"===d&&(0,a.jsx)("span",{className:"flex-shrink-0",children:o}),m,o&&"right"===d&&(0,a.jsx)("span",{className:"flex-shrink-0",children:o})]})})});function i(e){let{size:t}=e;return(0,a.jsxs)("svg",{className:"animate-spin ".concat({sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"}[t]),fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}l.displayName="Button",t.Z=l},4582:function(e,t,r){"use strict";r.d(t,{O:function(){return i}});var a=r(5893),n=r(7294),s=r(8370);let l=(0,n.forwardRef)((e,t)=>{let{variant:r="default",hover:n=!1,selected:l=!1,padding:i="md",children:o,className:d="",...c}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.Z)("\n      rounded-2xl\n      transition-all duration-300 ease-out\n    ",{default:"\n        bg-white border border-neutral-100\n        shadow-[0_4px_8px_rgba(0,0,0,0.08),0_2px_4px_rgba(0,0,0,0.04)]\n      ",elevated:"\n        bg-white border border-neutral-100\n        shadow-[0_8px_24px_rgba(0,0,0,0.12),0_4px_8px_rgba(0,0,0,0.06)]\n      ",outlined:"\n        bg-white border-2 border-neutral-200\n      ",glass:"\n        bg-white/80 backdrop-blur-xl border border-white/50\n        shadow-[0_4px_8px_rgba(0,0,0,0.08)]\n      "}[r],{none:"",sm:"p-4",md:"p-6",lg:"p-8"}[i],n?"cursor-pointer hover:-translate-y-1 hover:shadow-[0_12px_32px_rgba(0,0,0,0.14)] hover:border-primary-200":"",l?"border-primary-500 shadow-[0_4px_8px_rgba(0,0,0,0.08),0_0_0_3px_rgba(76,175,80,0.15)]":"",d),...c,children:o})});function i(e){let{title:t,subtitle:r,action:n,className:s="",...l}=e;return(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4 ".concat(s),...l,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-neutral-900",children:t}),r&&(0,a.jsx)("p",{className:"text-sm text-neutral-500 mt-0.5",children:r})]}),n&&(0,a.jsx)("div",{className:"flex-shrink-0",children:n})]})}l.displayName="Card",t.Z=l},8370:function(e,t,r){"use strict";function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let a=new Set,n=[];for(let e of t)if(e)for(let t of e.split(/\s+/).filter(Boolean))a.has(t)||(a.add(t),n.push(t));return n.join(" ")}r.d(t,{Z:function(){return a}})},8019:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var a=r(5893),n=r(7294),s=r(4582),l=r(530),i=r(1163);function o(){let e=(0,i.useRouter)(),[t,r]=(0,n.useState)("Sirali APMC\nBaran APMC\nEtawah APMC\nSitapur APMC\nBadayoun APMC"),[o,d]=(0,n.useState)(""),[c,m]=(0,n.useState)(""),[u,h]=(0,n.useState)("100"),[x,f]=(0,n.useState)(!1),[p,b]=(0,n.useState)([]),[g,v]=(0,n.useState)(null);async function w(e){e&&e.preventDefault(),v(null);let r=t.split("\n").map(e=>e.trim()).filter(Boolean);if(!r.length){v("Please paste at least one market name");return}if(!o||!c){v("Please enter latitude and longitude");return}let a={markets:r.map(e=>({name:e})),location:{lat:parseFloat(o),lng:parseFloat(c)},radius_km:parseFloat(u||"100")};try{f(!0);let e=await fetch("".concat("http://127.0.0.1:8000","/api/filter_markets"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!e.ok){let t=await e.text().catch(()=>null);throw Error(t||"Server error")}let t=await e.json();b(t.markets||[])}catch(e){v(e.message||"Failed")}finally{f(!1)}}return(0,a.jsx)("div",{className:"min-h-screen bg-neutral-50 py-8",children:(0,a.jsx)("main",{className:"max-w-3xl mx-auto px-4",children:(0,a.jsxs)(s.Z,{padding:"lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Filter Markets by Distance"}),(0,a.jsx)("div",{className:"text-sm text-neutral-500",children:"Find markets within radius from your location"})]}),(0,a.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Paste market names (one per line)"}),(0,a.jsx)("textarea",{value:t,onChange:e=>r(e.target.value),rows:6,className:"mt-1 w-full"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Latitude"}),(0,a.jsx)("input",{value:o,onChange:e=>d(e.target.value),className:"mt-1 w-full",placeholder:"21.229682"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Longitude"}),(0,a.jsx)("input",{value:c,onChange:e=>m(e.target.value),className:"mt-1 w-full",placeholder:"81.348352"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:"Radius km"}),(0,a.jsx)("input",{value:u,onChange:e=>h(e.target.value),className:"mt-1 w-full"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(l.Z,{type:"submit",disabled:x,children:x?"Filtering…":"Filter Markets"}),(0,a.jsx)(l.Z,{variant:"ghost",onClick:()=>e.push("/"),children:"Back"})]})]}),g&&(0,a.jsx)("div",{className:"mt-4 text-red-600",children:g}),p.length>0&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold",children:["Markets within ",u," km"]}),(0,a.jsx)("ul",{className:"mt-3 space-y-2",children:p.map((e,t)=>{var r,n,s,l;return(0,a.jsxs)("li",{className:"p-3 bg-white rounded shadow-sm flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.name||e.city}),(0,a.jsxs)("div",{className:"text-sm text-neutral-600",children:[e.distance_km," km • ",null===(n=e.lat)||void 0===n?void 0:null===(r=n.toFixed)||void 0===r?void 0:r.call(n,4),",",null===(l=e.lon)||void 0===l?void 0:null===(s=l.toFixed)||void 0===s?void 0:s.call(l,4)]})]}),(0,a.jsx)("a",{className:"text-primary-600",target:"_blank",rel:"noreferrer",href:"https://www.google.com/maps/search/?api=1&query=".concat(encodeURIComponent(e.name||e.city)),children:"Open in Maps"})]},t)})})]})]})})})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=3872)}),_N_E=e.O()}]);